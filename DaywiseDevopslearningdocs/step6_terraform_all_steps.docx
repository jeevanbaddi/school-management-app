NEXT STEP: Terraform Apply â†’ Create GKE Cluster

Weâ€™ll do this safely, intentionally, and with practice mindset.

âš ï¸ BEFORE APPLY (VERY IMPORTANT â€“ READ ONCE)

terraform apply will CREATE real cloud resources

GKE costs money while running

We will:

Create

Verify

Use briefly

Destroy

ğŸ‘‰ This is exactly how real engineers work in non-prod.

ğŸ” FLOW (LOCK THIS IN YOUR HEAD)
terraform apply
   â†“
GKE cluster created
   â†“
kubectl configured
   â†“
Cluster verified
   â†“
(terraform destroy later)

ğŸ§ª STEP 6A: Apply Terraform (CREATE CLUSTER)

From inside terraform/ directory:

terraform apply -var="project_id=YOUR_PROJECT_ID"


When prompted:

Do you want to perform these actions?


Type:

yes


â³ This may take 5â€“10 minutes.

âœ… What success looks like

At the end you should see:

Apply complete! Resources: X added, 0 changed, 0 destroyed.


And Terraform outputs:

cluster_name = school-gke-cluster

ğŸ§  WHY THIS WORKED (MENTAL MODEL)

Terraform used gcloud authentication

Provider talked to GCP APIs

State file recorded:

Cluster

Node pool

ğŸ‘‰ Terraform now â€œownsâ€ this infrastructure.

ğŸ§ª STEP 6B: Connect kubectl to GKE (MANDATORY)

Now we must tell kubectl which cluster to talk to.

Run:

gcloud container clusters get-credentials school-gke-cluster \
  --zone us-central1-a \
  --project YOUR_PROJECT_ID

Verify connection
kubectl get nodes

Expected:
NAME             STATUS   ROLES    AGE   VERSION
gke-xxxx-node    Ready    <none>   Xm    v1.xx


âœ… This confirms:

Cluster exists

Node is ready

You can deploy workloads

ğŸ§  MUST-KNOW (INTERVIEW LEVEL)

Terraform creates infrastructure,
but kubectl talks directly to Kubernetes.

Terraform âŒ does not deploy apps
kubectl âœ… deploys apps

ğŸ“ NOTES YOU SHOULD TAKE (30 MIN MAX)

Use ONLY this format ğŸ‘‡

ğŸ“Œ Concept: Terraform â†’ GKE Cluster
Flow
Terraform apply â†’ GKE cluster â†’ kubectl access

Commands
terraform init
terraform plan
terraform apply
gcloud container clusters get-credentials
kubectl get nodes

Common Errors

Permission denied â†’ Missing GKE IAM role

API disabled â†’ container.googleapis.com

kubectl not configured â†’ get-credentials not run

Interview-Style Explanation

Terraform is used to provision a GKE cluster as code, and kubectl is configured to interact with the cluster for workload deployment.

âŒ STOP NOTES HERE

ğŸ¯ PRACTICE TASK (DO NOT SKIP)
Task 1

Run terraform apply

Wait for completion

Task 2

Run kubectl get nodes

Ensure node is Ready

ğŸš¦